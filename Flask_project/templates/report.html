{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <!-- à¸ªà¹ˆà¸§à¸™à¸«à¸±à¸§à¸‚à¸­à¸‡à¸«à¸™à¹‰à¸² -->
    <div class="p-3 mb-4 text-center text-white" style="background-color: #007bff; border-radius: 10px;">
        <h2>ğŸ  à¸«à¸™à¹‰à¸²à¹à¸£à¸</h2>
    </div>

    <div class="card shadow p-4">
        <h2 class="mb-3 text-center">ğŸ“¢ à¹à¸ˆà¹‰à¸‡à¸›à¸±à¸à¸«à¸²</h2>

        <!-- Flash Message -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }}">{{ message }}</div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <!-- à¸Ÿà¸­à¸£à¹Œà¸¡à¹à¸ˆà¹‰à¸‡à¸›à¸±à¸à¸«à¸² -->
        <form action="{{ url_for('report') }}" method="POST" enctype="multipart/form-data">
            {{ form.hidden_tag() }}

            <div class="mb-3">
                <label for="title" class="form-label">ğŸ”¹ à¸Šà¸·à¹ˆà¸­à¹€à¸£à¸·à¹ˆà¸­à¸‡:</label>
                {{ form.title(class="form-control", placeholder="à¸à¸£à¸­à¸à¸Šà¸·à¹ˆà¸­à¹€à¸£à¸·à¹ˆà¸­à¸‡") }}
            </div>

            <div class="mb-3">
                <label for="description" class="form-label">ğŸ“ à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¸›à¸±à¸à¸«à¸²:</label>
                {{ form.description(class="form-control", rows=4, placeholder="à¸­à¸˜à¸´à¸šà¸²à¸¢à¸›à¸±à¸à¸«à¸²") }}
            </div>

            <div class="mb-3">
                <label for="category" class="form-label">ğŸ“‚ à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆ:</label>
                {{ form.category(class="form-control", placeholder = "à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆà¸›à¸±à¸à¸«à¸²") }}
            </div>

            <div class="mb-3">
                <label for="file" class="form-label">ğŸ“ à¹à¸™à¸šà¹„à¸Ÿà¸¥à¹Œà¸«à¸£à¸·à¸­à¸£à¸¹à¸›à¸ à¸²à¸ (à¸–à¹‰à¸²à¸¡à¸µ):</label>
                {{ form.file(class="form-control") }}
            </div>
        </form>
    </div>

    <hr>

    <!-- à¹à¸ªà¸”à¸‡à¸›à¸±à¸à¸«à¸²à¸¥à¹ˆà¸²à¸ªà¸¸à¸” -->
    <h3 class="mt-4">ğŸ“Œ à¸›à¸±à¸à¸«à¸²à¸¥à¹ˆà¸²à¸ªà¸¸à¸”à¸—à¸µà¹ˆà¹à¸ˆà¹‰à¸‡</h3>
    <ul class="list-group">
        {% for report in reports %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <strong>{{ report.title }}</strong>
                <span class="badge bg-warning text-dark">{{ report.status }}</span>
            </li>
        {% endfor %}
    </ul>
</div>

{% endblock %}
