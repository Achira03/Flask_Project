{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <!-- ส่วนหัวของหน้า -->
    <div class="p-3 mb-4 text-center text-white" style="background-color: #007bff; border-radius: 10px;">
        <h2>🏠 หน้าแรก</h2>
    </div>

    <div class="card shadow p-4">
        <h2 class="mb-3 text-center">📢 แจ้งปัญหา</h2>

        <!-- Flash Message -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }}">{{ message }}</div>
                {% endfor %}
            {% endif %}
        {% endwith %}

    </div>

    <hr>

    <!-- แสดงปัญหาล่าสุด -->
    <h3 class="mt-4">📌 ปัญหาล่าสุดที่แจ้ง</h3>
    <ul class="list-group">
        {% for report in reports %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <strong>{{ report.title }}</strong>
                <span class="badge bg-warning text-dark">{{ report.status }}</span>
            </li>
        {% endfor %}
    </ul>
</div>

{% endblock %}
